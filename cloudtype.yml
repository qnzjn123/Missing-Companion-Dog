# CloudType 배포 설정
name: Missing Companion Dog
description: 반려동물 실종 신고 및 관리 시스템
language: php
languageVersion: "8.3"

# 빌드 설정
build:
  - composer install

# 포트 설정
port: 8080

# 실행 명령어 - PHP-FPM과 함께 간단한 웹서버 사용
run: |
  mkdir -p /tmp/php-sessions
  php -d session.save_path=/tmp/php-sessions -d error_log=/tmp/php-error.log -S 0.0.0.0:8080

# 환경 변수
env:
  ENVIRONMENT: production
  PHP_MEMORY_LIMIT: 256M

# 헬스 체크
healthCheck:
  enabled: true
  path: /
  port: 8080
  initialDelaySeconds: 30
  periodSeconds: 10
  timeoutSeconds: 5
  failureThreshold: 3
